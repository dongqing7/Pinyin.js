(function(a){a.fn.pinyin=function(h){var e=a(this);var c={a:"a*",e:"e*",i:"i*",o:"o*",u:"u*",v:"v*",A:"A*",E:"E*",O:"O*",ai:"a*i",ao:"a*o",ei:"e*i",ia:"ia*",iao:"ia*",ie:"ie*",io:"io*",iu:"iu*",Ai:"A*i",Ao:"A*o",Ei:"E*i",ou:"o*u",ua:"ua*",uai:"ua*i",ue:"ue*",ui:"ui*",uo:"uo*",ve:"ve*",Ou:"O*u"};var g=["a*","e*","i*","o*","u*","v*","A*","E*","O*"];var d={1:["ā","ē","ī","ō","ū","ǖ","Ā","Ē","Ī","Ō"],2:["á","é","í","ó","ú","ǘ","Á","É","Í","Ó"],3:["ǎ","ě","ǐ","ǒ","ǔ","ǚ","Ǎ","Ě","Ǐ","Ǒ"],4:["à","è","ì","ò","ù","ǜ","À","È","Ì","Ò"]};var b=function(j){var k=j.substr(-1,1);var l=j.substring(0,j.indexOf(k));for(var m in c){if(l.search(m)!=-1){l=l.replace(new RegExp(m),c[m]);break}}for(i=0;i<10;i++){l=l.replace(g[i],d[k][i])}return l};var f=function(){e.bind("keyup",function(k){var j=(k.keyCode?k.keyCode:k.which);if(j==32||j==49||j==50||j==51||j==52){var l=a(this).val();l=l.replace(/([a-zA-Z]+)([1-5])/g,b);a(this).val(l)}})};f()}})(jQuery);